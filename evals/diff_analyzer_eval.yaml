description: 'Diff Analyzer Agent Evals'

prompts:
  - file://formats/default.json

providers:
  - id: huggingface:text-generation:google/gemma-3-1b-it
    config:
      temperature: 0
      context_length: 32768
      max_tokens: 16384
      apiEndpoint: http://127.0.0.1:8080/generate
      top_p: 0.9
      frequency_penalty: 0
      presence_penalty: 0

defaultTest:
  options:
    provider: openai:gpt-4o-mini-2024-07-18

tests:
  - description: 'Test diff analyzer'
    vars:
      system_prompt: file://../data/prompts/system/diff_analyzer.xml
      user_prompt: file://../data/prompts/user/test_calculator_diffs.txt
      system_assertion_prompt: file://assertion_prompts/diff_analyzer_assertion_prompt.md
    assert:
      - type: llm-rubric
        value: "{{system_assertion_prompt}}"